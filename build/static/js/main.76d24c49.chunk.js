(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{38:function(e,t,n){"use strict";n.r(t);var c=n(0),u=n(2),i=n.n(u),r=n(15),a=n.n(r),l=(n(6),n(3)),o=function(e){return Object(c.jsx)("form",{children:Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{children:"filter shown with"}),Object(c.jsx)("input",{type:"text",onChange:e.handleSearch})]})})},s=function(e){return Object(c.jsxs)("form",{id:"add",onSubmit:e.handleSubmit,children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{children:"name: "}),Object(c.jsx)("input",{type:"text",value:e.newName,onChange:e.handleName})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{children:"number: "}),Object(c.jsx)("input",{type:"text",onChange:e.handleNumber})]}),Object(c.jsx)("button",{type:"submit",children:"Add"})]})},d=function(e){return e.arr.filter((function(t){return t.name.toLowerCase().includes(e.str.toLowerCase())})).map((function(t){return Object(c.jsxs)("div",{children:[t.name," ",t.number," ",Object(c.jsx)("button",{onClick:function(n){return e.handleDelete(n,t)},children:"Del"})]})}))},j=n(4),b=n.n(j),h="/api/persons",f=function(){return b.a.get(h)},m=function(e){return b.a.post(h,e)},O=function(e){return console.log(h+"/"+e),b.a.delete(h+"/"+e)},x=function(e){var t=e.message;return null===t?null:Object(c.jsx)("div",{className:"notif",children:t})},p=function(){var e=Object(u.useState)([]),t=Object(l.a)(e,2),n=t[0],i=t[1];Object(u.useEffect)((function(){f().then((function(e){i(e.data)}))}),[]);var r=Object(u.useState)(""),a=Object(l.a)(r,2),j=a[0],b=a[1],h=Object(u.useState)(""),p=Object(l.a)(h,2),v=p[0],g=p[1],S=Object(u.useState)(""),w=Object(l.a)(S,2),C=w[0],D=w[1],N=Object(u.useState)(""),y=Object(l.a)(N,2),k=y[0],F=y[1];return Object(c.jsxs)("div",{children:[Object(c.jsx)(x,{message:k}),Object(c.jsx)("h2",{children:"Phonebook"}),Object(c.jsx)(o,{handleSearch:function(e){D(e.target.value)}}),Object(c.jsx)("h2",{children:"add a new"}),Object(c.jsx)(s,{handleName:function(e){b(e.target.value)},handleNumber:function(e){g(e.target.value)},handleSubmit:function(e){n.find((function(e){return e.name===j}));if(n.map((function(e){return e.name})).includes(j)&&n.map((function(e){return e.number})).includes(v))alert("".concat(j," is already added to phonebook"));else{var t={name:j,number:v};F("Added "+t.name),setTimeout((function(){F(null)}),3e3),i(n.concat(t)),m(t).then((function(e){}))}e.preventDefault()}}),Object(c.jsx)("h2",{children:"Numbers"}),Object(c.jsx)(d,{arr:n,str:C,handleDelete:function(e,t){window.confirm("Delete "+t.name+" ?")&&(O(t.id).then((function(e){})),i(n.filter((function(e){return e.id!==t.id}))),F("Deleted "+t.name),setTimeout((function(){F(null)}),3e3)),e.preventDefault()}})]})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,39)).then((function(t){var n=t.getCLS,c=t.getFID,u=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),u(e),i(e),r(e)}))};a.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(p,{})}),document.getElementById("root")),v()},6:function(e,t,n){}},[[38,1,2]]]);
//# sourceMappingURL=main.76d24c49.chunk.js.map