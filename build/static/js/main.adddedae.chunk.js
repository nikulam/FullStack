(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{38:function(e,n,t){"use strict";t.r(n);var c=t(0),u=t(2),i=t.n(u),r=t(15),a=t.n(r),o=(t(6),t(3)),l=function(e){return Object(c.jsx)("form",{children:Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{children:"filter shown with"}),Object(c.jsx)("input",{type:"text",onChange:e.handleSearch})]})})},s=function(e){return Object(c.jsxs)("form",{id:"add",onSubmit:e.handleSubmit,children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{children:"name: "}),Object(c.jsx)("input",{type:"text",value:e.newName,onChange:e.handleName})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{children:"number: "}),Object(c.jsx)("input",{type:"text",onChange:e.handleNumber})]}),Object(c.jsx)("button",{type:"submit",children:"Add"})]})},d=function(e){return e.arr.filter((function(n){return n.name.toLowerCase().includes(e.str.toLowerCase())})).map((function(n){return Object(c.jsxs)("div",{children:[n.name," ",n.number," ",Object(c.jsx)("button",{onClick:function(t){return e.handleDelete(t,n)},children:"Del"})]})}))},j=t(4),b=t.n(j),f="/api/persons",h=function(){return b.a.get(f)},m=function(e){return b.a.post(f,e)},O=function(e){return console.log(f+"/"+e),b.a.delete(f+"/"+e)},x=function(e,n){return b.a.put(f+"/"+e,n)},p=function(e){var n=e.message;return null===n?null:Object(c.jsx)("div",{className:"notif",children:n})},g=function(){var e=Object(u.useState)([]),n=Object(o.a)(e,2),t=n[0],i=n[1];Object(u.useEffect)((function(){h().then((function(e){i(e.data)}))}),[]);var r=Object(u.useState)(""),a=Object(o.a)(r,2),j=a[0],b=a[1],f=Object(u.useState)(""),g=Object(o.a)(f,2),v=g[0],S=g[1],w=Object(u.useState)(""),C=Object(o.a)(w,2),D=C[0],N=C[1],T=Object(u.useState)(""),y=Object(o.a)(T,2),k=y[0],F=y[1];return Object(c.jsxs)("div",{children:[Object(c.jsx)(p,{message:k}),Object(c.jsx)("h2",{children:"Phonebook"}),Object(c.jsx)(l,{handleSearch:function(e){N(e.target.value)}}),Object(c.jsx)("h2",{children:"add a new"}),Object(c.jsx)(s,{handleName:function(e){b(e.target.value)},handleNumber:function(e){S(e.target.value)},handleSubmit:function(e){t.find((function(e){return e.name===j}));if(console.log("TOIMINYT"),t.forEach((function(e){return console.log(e)})),t.map((function(e){return e.name})).includes(j)&&t.map((function(e){return e.number})).includes(v))alert("".concat(j," is already added to phonebook"));else if(t.map((function(e){return e.name})).includes(j)){var n=t.filter((function(e){return e.name==j}))[0],c={name:j,number:v,id:n.id};F("Updated "+c.name),setTimeout((function(){F(null)}),3e3),i(t.filter((function(e){return e.id!=n.id})).concat(c)),x(n.id,c).then(console.log(c))}else{var u={name:j,number:v};F("Added "+u.name),setTimeout((function(){F(null)}),3e3),i(t.concat(u)),m(u).then((function(e){}))}e.preventDefault()}}),Object(c.jsx)("h2",{children:"Numbers"}),Object(c.jsx)(d,{arr:t,str:D,handleDelete:function(e,n){window.confirm("Delete "+n.name+" ?")&&(O(n.id).then((function(e){})),i(t.filter((function(e){return e.id!==n.id}))),F("Deleted "+n.name),setTimeout((function(){F(null)}),3e3)),e.preventDefault()}})]})},v=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,39)).then((function(n){var t=n.getCLS,c=n.getFID,u=n.getFCP,i=n.getLCP,r=n.getTTFB;t(e),c(e),u(e),i(e),r(e)}))};a.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(g,{})}),document.getElementById("root")),v()},6:function(e,n,t){}},[[38,1,2]]]);
//# sourceMappingURL=main.adddedae.chunk.js.map