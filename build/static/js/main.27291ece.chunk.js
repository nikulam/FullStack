(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{39:function(e,n,t){"use strict";t.r(n);var c=t(0),r=t(2),u=t.n(r),i=t(15),a=t.n(i),o=(t(6),t(3)),l=function(e){return Object(c.jsx)("form",{children:Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{children:"filter shown with"}),Object(c.jsx)("input",{type:"text",onChange:e.handleSearch})]})})},s=function(e){return Object(c.jsxs)("form",{id:"add",onSubmit:e.handleSubmit,children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{children:"name: "}),Object(c.jsx)("input",{type:"text",value:e.newName,onChange:e.handleName})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{children:"number: "}),Object(c.jsx)("input",{type:"text",onChange:e.handleNumber})]}),Object(c.jsx)("button",{type:"submit",children:"Add"})]})},d=function(e){return e.arr.filter((function(n){return n.name.toLowerCase().includes(e.str.toLowerCase())})).map((function(n){return Object(c.jsxs)("div",{children:[n.name," ",n.number," ",Object(c.jsx)("button",{onClick:function(t){return e.handleDelete(t,n)},children:"Del"})]})}))},j=t(4),b=t.n(j),f="/api/persons",h=function(){return b.a.get(f)},m=function(e){return b.a.post(f,e)},O=function(e){return console.log(f+"/"+e),b.a.delete(f+"/"+e)},p=function(e,n){return b.a.put(f+"/"+e,n)},x=function(e){var n=e.message;return null===n?null:Object(c.jsx)("div",{className:"notif",children:n})},g=(t(38),function(){var e=Object(r.useState)([]),n=Object(o.a)(e,2),t=n[0],u=n[1];Object(r.useEffect)((function(){h().then((function(e){u(e.data)}))}),[]);var i=Object(r.useState)(""),a=Object(o.a)(i,2),j=a[0],b=a[1],f=Object(r.useState)(""),g=Object(o.a)(f,2),v=g[0],S=g[1],w=Object(r.useState)(""),C=Object(o.a)(w,2),D=C[0],N=C[1],y=Object(r.useState)(""),k=Object(o.a)(y,2),T=k[0],F=k[1];return Object(c.jsxs)("div",{children:[Object(c.jsx)(x,{message:T}),Object(c.jsx)("h2",{children:"Phonebook"}),Object(c.jsx)(l,{handleSearch:function(e){N(e.target.value)}}),Object(c.jsx)("h2",{children:"add a new"}),Object(c.jsx)(s,{handleName:function(e){b(e.target.value)},handleNumber:function(e){S(e.target.value)},handleSubmit:function(e){t.find((function(e){return e.name===j}));if(t.forEach((function(e){return console.log(e)})),t.map((function(e){return e.name})).includes(j)&&t.map((function(e){return e.number})).includes(v))alert("".concat(j," is already added to phonebook"));else if(t.map((function(e){return e.name})).includes(j)){var n=t.filter((function(e){return e.name==j}))[0],c={name:j,number:v,id:n.id};F("Updated "+c.name),setTimeout((function(){F(null)}),3e3),u(t.filter((function(e){return e.id!=n.id})).concat(c)),p(n.id,c).then(console.log(c))}else{var r={name:j,number:v};m(r).then((function(e){F("Added "+r.name),u(t.concat(r))})).catch((function(e){F(e.response.data.error),console.log(e.response.data.error)})),setTimeout((function(){F(null)}),5e3)}e.preventDefault()}}),Object(c.jsx)("h2",{children:"Numbers"}),Object(c.jsx)(d,{arr:t,str:D,handleDelete:function(e,n){window.confirm("Delete "+n.name+" ?")&&(O(n.id).then((function(e){})),u(t.filter((function(e){return e.id!==n.id}))),F("Deleted "+n.name),setTimeout((function(){F(null)}),3e3)),e.preventDefault()}})]})}),v=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,40)).then((function(n){var t=n.getCLS,c=n.getFID,r=n.getFCP,u=n.getLCP,i=n.getTTFB;t(e),c(e),r(e),u(e),i(e)}))};a.a.render(Object(c.jsx)(u.a.StrictMode,{children:Object(c.jsx)(g,{})}),document.getElementById("root")),v()},6:function(e,n,t){}},[[39,1,2]]]);
//# sourceMappingURL=main.27291ece.chunk.js.map